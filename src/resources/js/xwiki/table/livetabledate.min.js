/*
 #set ($paths = {
  'moment': $services.webjars.url('momentjs', 'min/moment.min'),
  'moment-jdateformatparser': $services.webjars.url('moment-jdateformatparser', 'moment-jdateformatparser.min'),
  'daterangepicker': $services.webjars.url('bootstrap-daterangepicker', 'js/bootstrap-daterangepicker.js')
})
#set ($l10nKeys = ['today', 'yesterday', 'lastSevenDays', 'lastThirtyDays', 'thisMonth', 'lastMonth', 'clear', 'apply',
  'customRange', 'from', 'to'])
#set ($l10n = {})
#foreach ($key in $l10nKeys)
  #set ($discard = $l10n.put($key, $services.localization.render("daterange.$key")))
#end
#[[*/
'use strict';(function(m,b){require.config({paths:m});require(["jquery","moment","moment-jdateformatparser","daterangepicker","xwiki-events-bridge"],function(h,a){var p=function(l){h(l).find('input[data-type="date"]').each(function(d,n){var e=h(n),k=e.prev('input[type="hidden"]'),g=a().toMomentFormatString(e.attr("data-dateformat"));d={};e.daterangepicker({drops:"down",opens:"center",autoUpdateInput:!1,timePicker:!0,timePicker24Hour:!0,ranges:(d[b.today]=[a().startOf("day"),a().endOf("day")],d[b.yesterday]=
[a().subtract(1,"days").startOf("day"),a().subtract(1,"days").endOf("day")],d[b.lastSevenDays]=[a().subtract(6,"days").startOf("day"),a().endOf("day")],d[b.lastThirtyDays]=[a().subtract(29,"days").startOf("day"),a().endOf("day")],d[b.thisMonth]=[a().startOf("month"),a().endOf("month")],d[b.lastMonth]=[a().subtract(1,"month").startOf("month"),a().subtract(1,"month").endOf("month")],d),locale:{format:g,cancelLabel:b.clear,applyLabel:b.apply,customRangeLabel:b.customRange,fromLabel:b.from,toLabel:b.to}});
e.on("apply.daterangepicker cancel.daterangepicker",function(f,c){"cancel"==f.type?(e.val(""),k.val("")):(c.startDate.isSame(c.endDate,"day")?e.val(c.startDate.format(g)):e.val(c.startDate.format(g)+" - "+c.endDate.format(g)),k.val(c.startDate.format("x")+"-"+c.endDate.format("x")));h(document).trigger("xwiki:livetable:"+h(l).attr("id")+":filtersChanged")});e.on("keypress",function(f){if(13===f.which){f=e.val().trim();var c=f.split(" - ");2===c.length?k.val(a(c[0],g).format("x")+"-"+a(c[1],g).format("x")):
k.val(f)}});e.on("hide.daterangepicker",function(f){this.hide=void 0;setTimeout(function(){delete f.target.hide},0)})})};h(".xwiki-livetable").each(function(l,d){p(d)})})}).apply("]]#",$jsontool.serialize([$paths,$l10n]));

//# sourceMappingURL=livetabledate.min.js.map
