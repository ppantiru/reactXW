/*
 #set ($paths = {
  'css': {
    'macroWizard': $services.webjars.url('org.xwiki.contrib:application-ckeditor-webjar',
      'plugins/xwiki-macro/macroWizard.min.css', {'evaluate': true})
  }
})
#set ($l10nKeys = [
  'dashboard.gadgetSelector.title',
  'dashboard.gadgetEditor.title',
  'dashboard.gadgetEditor.changeGadget.label',
  'dashboard.gadgetEditor.gadgetTitle.label',
  'dashboard.gadgetEditor.gadgetTitle.hint'
])
#set ($l10n = {})
#foreach ($key in $l10nKeys)
  #set ($discard = $l10n.put($key, $services.localization.render($key)))
#end
#[[*/
'use strict';(function(m,e){define(["jquery","xwiki-ckeditor"],function(b,n){var g=b('<li class="macro-parameter" data-id="$gadgetTitle"><div class="macro-parameter-name"></div><div class="macro-parameter-description"></div><input type="text" class="macro-parameter-field" name="$gadgetTitle"/></li>');g.find(".macro-parameter-name").text(e["dashboard.gadgetEditor.gadgetTitle.label"]);g.find(".macro-parameter-description").text(e["dashboard.gadgetEditor.gadgetTitle.hint"]);b("head").append(b('<link type="text/css" rel="stylesheet"/>').attr("href",
m.css.macroWizard));var p=function(a){var c=b.Deferred();require(["macroWizard"],function(h){c.resolve(a,h)});return c.promise()},f;b(document).on("show.bs.modal",".macro-selector-modal",function(a){f&&!b(this).hasClass("gadget-selector-modal")&&(b(this).addClass("gadget-selector-modal"),a=b(this).find(".modal-title"),a.prop("oldText",a.text()).text(e["dashboard.gadgetSelector.title"]))});var k;b(document).on("ready",".macro-editor",function(){if(f){var a=b(this).closest(".modal");if(!a.hasClass("gadget-editor-modal")){k=
f.title;a.addClass("gadget-editor-modal");var c=a.find(".modal-title");c.prop("oldText",c.text()).text(e["dashboard.gadgetEditor.title"]);a=a.find(".modal-footer .btn-default").not('*[data-dismiss="modal"]');a.prop("oldText",a.text()).text(e["dashboard.gadgetEditor.changeGadget.label"])}a=g.clone();b(this).find(".macro-parameters").prepend(a);(c=k)||(c="$services.localization.render('rendering.macro."+b(this).attr("data-macroid").split("/")[0]+".name')");k=null;a.find("input").val(c).focus()}});var q=
function(a,c,h){f=a||{};a=a&&"string"===typeof a.content?c.plugins.registered["xwiki-macro"].parseMacroCall(a.content):void 0;return h(a).then(function(d){return{title:b('.macro-editor input[name="$gadgetTitle"]').val(),content:c.plugins.registered["xwiki-macro"].serializeMacroCall(d)}}).always(function(){f=null;var d=b(".gadget-selector-modal").removeClass("gadget-selector-modal").find(".modal-title");d.text(d.prop("oldText"));d=b(".gadget-editor-modal").removeClass("gadget-editor-modal");var l=
d.find(".modal-title");l.text(l.prop("oldText"));d=d.find(".modal-footer .btn-default").not('*[data-dismiss="modal"]');d.text(d.prop("oldText"))})};return function(a){return n.then(p).then(b.proxy(q,null,a))}})}).apply("]]#",$jsontool.serialize([$paths,$l10n]));

//# sourceMappingURL=gadgetWizard.min.js.map
