/*
 #set ($paths = {
  'xwiki-selectize': $xwiki.getSkinFile('uicomponents/suggest/xwiki.selectize.js', true)
})
#set ($pageIcon = $services.icon.getMetaData('page_white'))
#set ($webHome = $services.model.getEntityReference('DOCUMENT', 'default').name)
#[[*/
'use strict';(function(q,r,h){require.config({paths:q});define("xwiki-suggestPages",["jquery","xwiki-selectize"],function(d){h=h||"WebHome";var g=function(a){return{create:!0,documentReference:a.data("documentReference"),searchScope:a.data("searchScope"),searchField:["searchValue","label","hint"],load:function(b,c){var e=this.settings;d.getJSON(t(e.searchScope),d.param({q:b,scope:["name","title"],number:10,localeAware:!0,prettyNames:!0},!0)).then(d.proxy(u,null,e)).done(c).fail(c)},loadSelected:function(b,
c){f(b,this.settings).done(c).fail(c)}}},m=function(a){a.documentReference&&"string"!==typeof a.documentReference||(a.documentReference=XWiki.Model.resolve(a.documentReference,XWiki.EntityType.DOCUMENT,XWiki.currentDocument.documentReference));a:{var b=a.searchScope||"wiki:"+XWiki.currentWiki;if("string"===typeof b)try{var c=XWiki.Model.resolve(b,null,XWiki.currentDocument.documentReference);break a}catch(e){c=null;break a}c=b}a.searchScope=c;return a},f=function(a,b){a=XWiki.Model.resolve(a,XWiki.EntityType.DOCUMENT,
b.documentReference);a=(new XWiki.Document(a)).getRestURL();return d.getJSON(a,d.param({prettyNames:!0})).then(d.proxy(n,null,b)).then(function(c){return[c]})},t=function(a){var b=a.getReversedReferenceChain().filter(function(c){return c.type===XWiki.EntityType.SPACE}).map(function(c){return c.name});a=a.extractReferenceValue(XWiki.EntityType.WIKI);return XWiki.Document.getRestSearchURL("",b,a)},u=function(a,b){return d.isArray(b.searchResults)?b.searchResults.map(d.proxy(n,null,a)):[]},n=function(a,
b){var c=XWiki.Model.resolve(b.id,XWiki.EntityType.DOCUMENT),e=c.relativeTo(a.documentReference.getRoot()),p=a=XWiki.Model.serialize(e),k=b.hierarchy.items;b=k.pop().label;c.name===h&&(b=k.pop().label,p=XWiki.Model.serialize(e.parent));e=k.filter(function(l){return"space"===l.type}).map(function(l){return l.label}).join(" / ");return{value:a,searchValue:p,label:b,hint:e,icon:r,url:(new XWiki.Document(c)).getURL()}};d.fn.suggestPages=function(a){return this.each(function(){var b=d.extend(g(d(this)),
a);d(this).xwikiSelectize(m(b))})}});require(["jquery","xwiki-suggestPages","xwiki-events-bridge"],function(d){var g=function(m,f){d(f&&f.elements||document).find(".suggest-pages").suggestPages()};d(document).on("xwiki:dom:loaded xwiki:dom:updated",g);d(g)})}).apply("]]#",$jsontool.serialize([$paths,$pageIcon,$webHome]));

//# sourceMappingURL=suggestPages.min.js.map
