'use strict';"undefined"==typeof XWiki||"undefined"==typeof XWiki.widgets||"undefined"==typeof XWiki.widgets.ConfirmationBox?"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[MessageBox widget] Required class missing: XWiki.widgets.ModalPopup"):XWiki.widgets.ConfirmedAjaxRequest=Class.create(XWiki.widgets.ConfirmationBox,{defaultAjaxRequestParameters:{on1223:function(a){a.request.options.onSuccess(a)},on0:function(a){a.request.options.onFailure(a)}},initialize:function($super,
e,b,f){this.interactionParameters=Object.extend({displayProgressMessage:!0,progressMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.inProgress')",displaySuccessMessage:!0,successMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.done')",displayFailureMessage:!0,failureMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.failed')"},f||{});this.requestUrl=e;this.ajaxRequestParameters=Object.extend(Object.clone(this.defaultAjaxRequestParameters),
b||{});Object.extend(this.ajaxRequestParameters,{onSuccess:function(){this.interactionParameters.displaySuccessMessage?this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done")):new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done"):this.progressNotification&&this.progressNotification.hide();b.onSuccess&&b.onSuccess.apply(this,arguments)}.bind(this),onFailure:function(c){if(this.interactionParameters.displayFailureMessage){var d=
c.statusText;if(""==c.statusText||12031==c.status)d="Server not responding";this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+d,"error")):new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+d,"error")}else this.progressNotification&&this.progressNotification.hide();b.onFailure&&b.onFailure.apply(this,arguments)}.bind(this)});$super({onYes:function(){this.interactionParameters.displayProgressMessage&&
(this.progressNotification=new XWiki.widgets.Notification(this.interactionParameters.progressMessageText,"inprogress"));new Ajax.Request(this.requestUrl,this.ajaxRequestParameters)}.bind(this)},this.interactionParameters)}});

//# sourceMappingURL=confirmedAjaxRequest.min.js.map
